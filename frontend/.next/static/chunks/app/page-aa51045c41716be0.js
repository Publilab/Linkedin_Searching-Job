(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7402:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>x});var l=a(5155),t=a(2115);let n=a(5704).env.NEXT_PUBLIC_API_BASE||"http://localhost:8000/api",r="linkedin_cv_session_id",i={es:{title:"Buscador LinkedIn desde CV",subtitle:"Sube CV, revisa an\xe1lisis IA y prioriza ofertas por mejor encaje.",upload:"Subir CV",summary:"Resumen del CV",analysis:"An\xe1lisis IA del perfil",strategy:"Estrategia de b\xfasqueda",loadStrategy:"Actualizar estrategia",search:"B\xfasqueda",results:"Resultados",scheduler:"Segundo plano",runSearch:"Buscar ahora",saveSummary:"Confirmar resumen",reanalyze:"Reanalizar IA",recommendedQueries:"Consultas recomendadas",activeQueries:"Consultas activas (se aplican en la b\xfasqueda)",addQuery:"Agregar consulta",queryPlaceholder:"Escribe una consulta y agr\xe9gala",enabledQueries:"Consultas habilitadas",remove:"Quitar",selectAll:"Seleccionar todos",deselectAll:"Deseleccionar todos",page:"P\xe1gina",of:"de",total:"Total",pageSize:"Tama\xf1o de p\xe1gina",prev:"Anterior",next:"Siguiente"},en:{title:"LinkedIn Job Finder from CV",subtitle:"Upload CV, review AI analysis, and prioritize jobs by best fit.",upload:"Upload CV",summary:"CV Summary",analysis:"AI Profile Analysis",strategy:"Search strategy",loadStrategy:"Refresh strategy",search:"Search",results:"Results",scheduler:"Background",runSearch:"Search now",saveSummary:"Confirm summary",reanalyze:"Reanalyze AI",recommendedQueries:"Recommended queries",activeQueries:"Active queries (used in search)",addQuery:"Add query",queryPlaceholder:"Type a query and add it",enabledQueries:"Enabled queries",remove:"Remove",selectAll:"Select all",deselectAll:"Deselect all",page:"Page",of:"of",total:"Total",pageSize:"Page size",prev:"Prev",next:"Next"}};async function c(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=await fetch("".concat(n).concat(e),{cache:"no-store",...s});if(!a.ok){let e="HTTP ".concat(a.status);try{e=(await a.json()).detail||e}catch(e){}throw Error(e)}return a.json()}function o(e){return(e||[]).join(", ")}function d(e){return(e||[]).join("\n")}function u(e){return String(e||"").split(/\n|;/).map(e=>e.trim()).filter(Boolean)}function h(e){let s=new Set,a=[];for(let l of e||[]){let e=String(l||"").trim();if(!e)continue;let t=e.toLowerCase();s.has(t)||(s.add(t),a.push(e))}return a}function m(e){return String(e||"").replace(/\s+/g," ").trim()}function g(e,s){var a;let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=null==(a=l.enabled)||a,n=l.source||"manual",r=new Map;for(let s of e||[]){let e=m((null==s?void 0:s.text)||s);e&&r.set(e.toLowerCase(),{text:e,enabled:(null==s?void 0:s.enabled)!==!1,source:(null==s?void 0:s.source)||n})}for(let e of s||[]){let s=m((null==e?void 0:e.text)||e);if(!s)continue;let a=s.toLowerCase();r.has(a)||r.set(a,{text:s,enabled:t,source:n})}return Array.from(r.values())}function p(e){return h((e||[]).filter(e=>(null==e?void 0:e.enabled)!==!1).map(e=>(null==e?void 0:e.text)||""))}function x(){let[e,s]=(0,t.useState)("es"),a=i[e],[n,x]=(0,t.useState)(!1),[y,j]=(0,t.useState)(""),[v,b]=(0,t.useState)(null),[_,f]=(0,t.useState)(""),[N,S]=(0,t.useState)(""),[w,C]=(0,t.useState)(!1),[k,T]=(0,t.useState)({highlights:[],skills:[],experience:[],education:[],languages:[]}),[A,E]=(0,t.useState)({target_roles:[],secondary_roles:[],seniority:"unknown",industries:[],strengths:[],skill_gaps:[],recommended_queries:[],llm_status:"fallback",llm_error:null}),[q,P]=(0,t.useState)({role_focus:[],recommended_queries:[],market_roles:[]}),[I,z]=(0,t.useState)(""),[O,L]=(0,t.useState)(""),[Q,R]=(0,t.useState)(""),[V,M]=(0,t.useState)("24"),[U,B]=(0,t.useState)([]),[D,F]=(0,t.useState)(""),[J,H]=(0,t.useState)("newest"),[Y,K]=(0,t.useState)(""),[W,X]=(0,t.useState)(""),[G,Z]=(0,t.useState)(""),[$,ee]=(0,t.useState)(""),[es,ea]=(0,t.useState)([]),[el,et]=(0,t.useState)({total:0,page:1,page_size:50,total_pages:0,has_prev:!1,has_next:!1}),[en,er]=(0,t.useState)(1),[ei,ec]=(0,t.useState)("50"),[eo,ed]=(0,t.useState)({categories:{},subcategories:{},modalities:{},locations:{},posted_buckets:{}}),[eu,eh]=(0,t.useState)({is_running:!1,interval_minutes:30,last_tick_at:null}),em=(0,t.useMemo)(()=>({highlights:d(k.highlights),skills:d(k.skills),experience:d(k.experience),education:d(k.education),languages:d(k.languages)}),[k]),eg=async e=>{j(""),x(!0);try{await e()}catch(e){j(e.message||"Operation failed")}finally{x(!1)}},ep=async()=>{eh(await c("/scheduler/status"))},ex=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;if(!e)return;let s=await c("/cv/".concat(e,"/strategy"));P(s),B(e=>g(e,s.recommended_queries||[],{enabled:!0,source:"strategy"}))},ey=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;if(!e)return;let s=await c((e=>{let s=new URLSearchParams;return s.set("sort_by",J),Y&&s.set("category",Y),W&&s.set("subcategory",W),G&&s.set("max_posted_hours",G),$&&s.set("location_contains",$),s.set("page",String(en)),s.set("page_size",String(Number(ei)||50)),"/searches/".concat(e,"/results?").concat(s.toString())})(e));ea(s.items||[]),et({total:s.total||0,page:s.page||1,page_size:s.page_size||Number(ei)||50,total_pages:s.total_pages||0,has_prev:!!s.has_prev,has_next:!!s.has_next})},ej=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;e&&ed(await c("/searches/".concat(e,"/facets")))};(0,t.useEffect)(()=>{ep().catch(()=>null)},[]),(0,t.useEffect)(()=>{let e=!1;return(async()=>{let a="";try{a=localStorage.getItem(r)||""}catch(e){a=""}if(a){C(!0);try{var l;let t=await c("/session/current?session_id=".concat(encodeURIComponent(a))),n=null==t?void 0:t.session;if(!n)return void localStorage.removeItem(r);if(e)return;if(S(n.session_id),f(n.cv_id||""),n.active_search_id&&z(n.active_search_id),l=n.ui_state||{},"object"==typeof l&&("string"==typeof l.country&&L(l.country),"string"==typeof l.city&&R(l.city),null!=l.time_window_hours&&M(String(l.time_window_hours)),"string"==typeof l.sort_by&&H(l.sort_by),"string"==typeof l.category&&K(l.category),"string"==typeof l.subcategory&&X(l.subcategory),"string"==typeof l.max_posted_hours&&Z(l.max_posted_hours),"string"==typeof l.location_contains&&ee(l.location_contains),null!=l.page&&er(Math.max(1,Number(l.page)||1)),null!=l.page_size&&ec(String(Number(l.page_size)||50)),"string"==typeof l.lang&&("es"===l.lang||"en"===l.lang)&&s(l.lang),Array.isArray(l.query_items)&&B(g([],l.query_items,{enabled:!0,source:"session"})),"string"==typeof l.search_id&&z(l.search_id)),n.cv_id){let s=await c("/cv/".concat(n.cv_id,"/summary"));if(e)return;T(s.summary||k),E(s.analysis||A),B(e=>{var a;return g(e,(null==(a=s.analysis)?void 0:a.recommended_queries)||[],{enabled:!0,source:"analysis"})}),await ex(n.cv_id)}}catch(e){}finally{e||C(!1)}}})(),()=>{e=!0}},[]),(0,t.useEffect)(()=>{if(N)try{localStorage.setItem(r,N)}catch(e){}},[N]),(0,t.useEffect)(()=>{if(!N||w)return;let s={session_id:N,active_search_id:I||null,ui_state:{cv_id:_||null,search_id:I||null,country:O,city:Q,time_window_hours:Number(V)||24,query_items:U,sort_by:J,category:Y,subcategory:W,max_posted_hours:G,location_contains:$,page:en,page_size:Number(ei)||50,lang:e}},a=setTimeout(()=>{c("/session/state",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).catch(()=>null)},400);return()=>clearTimeout(a)},[N,w,_,I,O,Q,V,U,J,Y,W,G,$,en,ei,e]),(0,t.useEffect)(()=>{I&&ey(I).catch(()=>null)},[I,J,Y,W,G,$,en,ei]),(0,t.useEffect)(()=>{if(!I)return;let e=setInterval(()=>{ey(I).catch(()=>null),ep().catch(()=>null),ej(I).catch(()=>null)},3e4);return()=>clearInterval(e)},[I,J,Y,W,G,$,en,ei]),(0,t.useEffect)(()=>{el.total_pages>0&&en>el.total_pages&&er(el.total_pages)},[el.total_pages,en]);let ev=e=>eg(async()=>{if(!I)throw Error("Create search first");0!==es.length&&(await Promise.all(es.map(s=>c("/searches/results/".concat(s.result_id,"/check"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({checked:e})}))),await ey(I))}),eb=()=>{let e=m(D);e&&(B(s=>g(s,[e],{enabled:!0,source:"manual"})),F(""))},e_=e=>{0!==U.length&&B(s=>s.map(s=>({...s,enabled:e})))},ef=p(U).length,eN=Object.keys(eo.categories||{}).sort(),eS=Object.keys(eo.subcategories||{}).sort();return(0,l.jsxs)("main",{children:[(0,l.jsxs)("div",{className:"card",style:{marginBottom:14},children:[(0,l.jsxs)("div",{className:"row",style:{alignItems:"center"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{children:a.title}),(0,l.jsx)("p",{className:"small",children:a.subtitle})]}),(0,l.jsx)("div",{style:{justifySelf:"end"},children:(0,l.jsx)("button",{className:"secondary",onClick:()=>s("es"===e?"en":"es"),children:"ES / EN"})})]}),y?(0,l.jsx)("div",{className:"alert",children:y}):null]}),(0,l.jsxs)("div",{className:"grid two",children:[(0,l.jsxs)("section",{className:"card",children:[(0,l.jsx)("h2",{children:a.upload}),(0,l.jsxs)("label",{children:["CV (.pdf / .docx)",(0,l.jsx)("input",{type:"file",accept:".pdf,.docx",onChange:e=>{var s;return b((null==(s=e.target.files)?void 0:s[0])||null)}})]}),(0,l.jsxs)("div",{className:"toolbar",children:[(0,l.jsx)("button",{onClick:()=>eg(async()=>{if(!v)throw Error("Select a CV file");let e=new FormData;e.append("file",v);let s=await c("/cv/upload",{method:"POST",body:e});S(s.session_id||""),f(s.cv_id),T(s.summary),E(s.analysis||A),B(e=>{var a;return g(e,(null==(a=s.analysis)?void 0:a.recommended_queries)||[],{enabled:!0,source:"analysis"})}),await ex(s.cv_id)}),disabled:n||!v,children:"Upload"}),(0,l.jsxs)("span",{className:"small",children:["CV ID: ",_||"-"]}),(0,l.jsxs)("span",{className:"small",children:["Session ID: ",N||"-"]})]})]}),(0,l.jsxs)("section",{className:"card",children:[(0,l.jsx)("h2",{children:a.scheduler}),(0,l.jsxs)("p",{className:"small",children:["Running: ",(0,l.jsx)("strong",{children:eu.is_running?"Yes":"No"})," | Interval: ",eu.interval_minutes," min"]}),(0,l.jsxs)("p",{className:"small",children:["Last tick: ",eu.last_tick_at||"-"]}),(0,l.jsxs)("div",{className:"toolbar",children:[(0,l.jsx)("button",{onClick:()=>eg(async()=>{eh(await c("/scheduler/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({interval_minutes:30})}))}),disabled:n,children:"Start"}),(0,l.jsx)("button",{className:"secondary",onClick:()=>eg(async()=>{eh(await c("/scheduler/stop",{method:"POST"}))}),disabled:n,children:"Stop"})]})]})]}),(0,l.jsxs)("section",{className:"card",style:{marginTop:14},children:[(0,l.jsx)("h2",{children:a.analysis}),(0,l.jsxs)("p",{className:"small",children:["LLM status: ",(0,l.jsx)("strong",{children:A.llm_status||"fallback"})]}),A.llm_error?(0,l.jsxs)("p",{className:"small",children:[(0,l.jsx)("strong",{children:"LLM error:"})," ",A.llm_error]}):null,(0,l.jsxs)("div",{className:"grid two",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"small",children:[(0,l.jsx)("strong",{children:"Target roles:"})," ",o(A.target_roles)||"-"]}),(0,l.jsxs)("p",{className:"small",children:[(0,l.jsx)("strong",{children:"Secondary roles:"})," ",o(A.secondary_roles)||"-"]}),(0,l.jsxs)("p",{className:"small",children:[(0,l.jsx)("strong",{children:"Seniority:"})," ",A.seniority||"unknown"]}),(0,l.jsxs)("p",{className:"small",children:[(0,l.jsx)("strong",{children:"Industries:"})," ",o(A.industries)||"-"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"small",children:[(0,l.jsx)("strong",{children:"Strengths:"})," ",o(A.strengths)||"-"]}),(0,l.jsxs)("p",{className:"small",children:[(0,l.jsx)("strong",{children:"Skill gaps:"})," ",o(A.skill_gaps)||"-"]})]})]}),(0,l.jsx)("h3",{style:{marginTop:14},children:a.strategy}),(0,l.jsxs)("p",{className:"small",children:[(0,l.jsx)("strong",{children:"Role focus:"})," ",o(q.role_focus)||"-"]}),(0,l.jsx)("div",{className:"toolbar",children:(q.market_roles||[]).slice(0,6).map(e=>(0,l.jsxs)("span",{className:"badge",children:[e.role," (",e.demand_score,")"]},"".concat(e.role,"-").concat(e.source)))}),(0,l.jsxs)("div",{style:{marginTop:8},children:[(0,l.jsx)("p",{className:"small",children:(0,l.jsxs)("strong",{children:[a.recommendedQueries,":"]})}),(0,l.jsx)("div",{className:"toolbar",children:h([...A.recommended_queries||[],...q.recommended_queries||[]]).map(e=>(0,l.jsxs)("button",{className:"secondary",type:"button",onClick:()=>{B(s=>{let a=m(e).toLowerCase(),l=[...s],t=l.findIndex(e=>m(e.text).toLowerCase()===a);return t>=0?(l[t]={...l[t],enabled:!0},l):g(l,[e],{enabled:!0,source:"recommended"})})},children:["+ ",e]},e))})]}),(0,l.jsxs)("div",{className:"toolbar",style:{marginTop:10},children:[(0,l.jsx)("button",{className:"secondary",onClick:()=>eg(async()=>{if(!_)throw Error("Upload CV first");let e=await c("/cv/".concat(_,"/analyze"),{method:"POST"});T(e.summary),E(e.analysis||A),B(s=>{var a;return g(s,(null==(a=e.analysis)?void 0:a.recommended_queries)||[],{enabled:!0,source:"analysis"})}),await ex(_)}),disabled:n||!_,children:a.reanalyze}),(0,l.jsx)("button",{className:"secondary",onClick:()=>eg(()=>ex(_)),disabled:n||!_,children:a.loadStrategy})]})]}),(0,l.jsxs)("section",{className:"card",style:{marginTop:14},children:[(0,l.jsx)("h2",{children:a.summary}),(0,l.jsx)("p",{className:"small",children:"Edita libremente: una l\xednea por elemento en cada campo."}),(0,l.jsxs)("div",{className:"grid two",children:[(0,l.jsxs)("label",{children:["Highlights",(0,l.jsx)("textarea",{value:em.highlights,onChange:e=>T(s=>({...s,highlights:u(e.target.value)}))})]}),(0,l.jsxs)("label",{children:["Skills",(0,l.jsx)("textarea",{value:em.skills,onChange:e=>T(s=>({...s,skills:u(e.target.value)}))})]}),(0,l.jsxs)("label",{children:["Experience",(0,l.jsx)("textarea",{value:em.experience,onChange:e=>T(s=>({...s,experience:u(e.target.value)}))})]}),(0,l.jsxs)("label",{children:["Education",(0,l.jsx)("textarea",{value:em.education,onChange:e=>T(s=>({...s,education:u(e.target.value)}))})]})]}),(0,l.jsxs)("label",{children:["Languages",(0,l.jsx)("textarea",{value:em.languages,onChange:e=>T(s=>({...s,languages:u(e.target.value)}))})]}),(0,l.jsx)("div",{className:"toolbar",children:(0,l.jsx)("button",{onClick:()=>eg(async()=>{if(!_)throw Error("Upload CV first");let e={summary:{highlights:u(em.highlights),skills:u(em.skills),experience:u(em.experience),education:u(em.education),languages:u(em.languages)}},s=await c("/cv/".concat(_,"/summary"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});T(s.summary),E(s.analysis||A),B(e=>{var a;return g(e,(null==(a=s.analysis)?void 0:a.recommended_queries)||[],{enabled:!0,source:"analysis"})}),await ex(_)}),disabled:n||!_,children:a.saveSummary})})]}),(0,l.jsxs)("section",{className:"card",style:{marginTop:14},children:[(0,l.jsx)("h2",{children:a.search}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("label",{children:["Country",(0,l.jsx)("input",{value:O,onChange:e=>L(e.target.value),placeholder:"Chile"})]}),(0,l.jsxs)("label",{children:["City",(0,l.jsx)("input",{value:Q,onChange:e=>R(e.target.value),placeholder:"Santiago"})]}),(0,l.jsxs)("label",{children:["Hours window",(0,l.jsxs)("select",{value:V,onChange:e=>M(e.target.value),children:[(0,l.jsx)("option",{value:"1",children:"1h"}),(0,l.jsx)("option",{value:"3",children:"3h"}),(0,l.jsx)("option",{value:"8",children:"8h"}),(0,l.jsx)("option",{value:"24",children:"24h"}),(0,l.jsx)("option",{value:"72",children:"72h"}),(0,l.jsx)("option",{value:"168",children:"1w"}),(0,l.jsx)("option",{value:"720",children:"1m"})]})]})]}),(0,l.jsxs)("label",{children:[a.activeQueries,(0,l.jsxs)("div",{className:"toolbar",style:{marginTop:6},children:[(0,l.jsx)("input",{value:D,onChange:e=>F(e.target.value),placeholder:a.queryPlaceholder,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),eb())}}),(0,l.jsx)("button",{type:"button",className:"secondary",onClick:eb,children:a.addQuery})]}),(0,l.jsxs)("div",{className:"toolbar",style:{marginTop:6},children:[(0,l.jsx)("button",{type:"button",className:"secondary",disabled:0===U.length,onClick:()=>e_(!0),children:a.selectAll}),(0,l.jsx)("button",{type:"button",className:"secondary",disabled:0===U.length,onClick:()=>e_(!1),children:a.deselectAll})]}),(0,l.jsx)("div",{style:{marginTop:8,display:"grid",gap:6},children:0===U.length?(0,l.jsx)("p",{className:"small",children:"No queries yet."}):U.map((e,s)=>(0,l.jsxs)("div",{className:"row",style:{gridTemplateColumns:"auto 1fr auto",gap:8},children:[(0,l.jsx)("input",{type:"checkbox",checked:!1!==e.enabled,onChange:e=>((e,s)=>{let a=[...U];a[e]&&(a[e]={...a[e],enabled:s},B(a))})(s,e.target.checked)}),(0,l.jsx)("input",{value:e.text,onChange:e=>((e,s)=>{let a=[...U];a[e]&&(a[e]={...a[e],text:s},B(a))})(s,e.target.value),placeholder:"Query"}),(0,l.jsx)("button",{type:"button",className:"secondary",onClick:()=>(e=>{let s=[...U];s.splice(e,1),B(s)})(s),children:a.remove})]},"".concat(e.text,"-").concat(s)))}),(0,l.jsxs)("p",{className:"small",children:[a.enabledQueries,": ",ef]})]}),(0,l.jsxs)("div",{className:"toolbar",children:[(0,l.jsx)("button",{onClick:()=>eg(async()=>{var e;if(!_)throw Error("Upload and confirm CV first");let s=p(U);if(0===s.length)throw Error("Add at least one enabled query");let a=await c("/searches",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cv_id:_,country:O||null,city:Q||null,time_window_hours:Number(V),keywords:s})});z(a.search_id),ea((null==(e=a.results)?void 0:e.items)||[]),er(1),await ep(),await ej(a.search_id)}),disabled:n||!_,children:a.runSearch}),(0,l.jsx)("button",{className:"secondary",onClick:()=>eg(async()=>{if(!I)throw Error("Create search first");let e=p(U);if(0===e.length)throw Error("Add at least one enabled query");await c("/searches/".concat(I),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({country:O||null,city:Q||null,time_window_hours:Number(V),keywords:e})}),await c("/searches/".concat(I,"/run"),{method:"POST"}),er(1),await ey(I),await ej(I)}),disabled:n||!I,children:"Run Again"}),(0,l.jsxs)("span",{className:"small",children:["Search ID: ",I||"-"]})]})]}),(0,l.jsxs)("section",{className:"card",style:{marginTop:14},children:[(0,l.jsx)("h2",{children:a.results}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("label",{children:["Sort",(0,l.jsxs)("select",{value:J,onChange:e=>{H(e.target.value),er(1)},children:[(0,l.jsx)("option",{value:"newest",children:"Newest"}),(0,l.jsx)("option",{value:"best_fit",children:"Best Fit"})]})]}),(0,l.jsxs)("label",{children:["Category",(0,l.jsxs)("select",{value:Y,onChange:e=>{K(e.target.value),er(1)},children:[(0,l.jsx)("option",{value:"",children:"All"}),eN.map(e=>(0,l.jsxs)("option",{value:e,children:[e," (",eo.categories[e],")"]},e))]})]}),(0,l.jsxs)("label",{children:["Subcategory",(0,l.jsxs)("select",{value:W,onChange:e=>{X(e.target.value),er(1)},children:[(0,l.jsx)("option",{value:"",children:"All"}),eS.map(e=>(0,l.jsxs)("option",{value:e,children:[e," (",eo.subcategories[e],")"]},e))]})]}),(0,l.jsxs)("label",{children:["Max posted hours",(0,l.jsxs)("select",{value:G,onChange:e=>{Z(e.target.value),er(1)},children:[(0,l.jsx)("option",{value:"",children:"Any"}),(0,l.jsx)("option",{value:"1",children:"1h"}),(0,l.jsx)("option",{value:"3",children:"3h"}),(0,l.jsx)("option",{value:"8",children:"8h"}),(0,l.jsx)("option",{value:"24",children:"24h"}),(0,l.jsx)("option",{value:"72",children:"72h"}),(0,l.jsx)("option",{value:"168",children:"1w"}),(0,l.jsx)("option",{value:"720",children:"1m"})]})]}),(0,l.jsxs)("label",{children:["Location contains",(0,l.jsx)("input",{value:$,onChange:e=>{ee(e.target.value),er(1)},placeholder:"Santiago"})]}),(0,l.jsxs)("label",{children:[a.pageSize,(0,l.jsxs)("select",{value:ei,onChange:e=>{ec(e.target.value),er(1)},children:[(0,l.jsx)("option",{value:"25",children:"25"}),(0,l.jsx)("option",{value:"50",children:"50"}),(0,l.jsx)("option",{value:"100",children:"100"})]})]})]}),(0,l.jsxs)("div",{className:"toolbar",style:{marginTop:8},children:[(0,l.jsx)("button",{type:"button",className:"secondary",disabled:n||!I||0===es.length,onClick:()=>ev(!0),children:a.selectAll}),(0,l.jsx)("button",{type:"button",className:"secondary",disabled:n||!I||0===es.length,onClick:()=>ev(!1),children:a.deselectAll}),(0,l.jsxs)("span",{className:"small",children:[a.total,": ",el.total]}),(0,l.jsxs)("span",{className:"small",children:[a.page," ",el.page," ",a.of," ",el.total_pages||0]}),(0,l.jsx)("button",{type:"button",className:"secondary",disabled:n||!I||!el.has_prev,onClick:()=>er(e=>Math.max(1,e-1)),children:a.prev}),(0,l.jsx)("button",{type:"button",className:"secondary",disabled:n||!I||!el.has_next,onClick:()=>er(e=>e+1),children:a.next})]}),(0,l.jsx)("div",{className:"table-wrap",children:(0,l.jsxs)("table",{children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Check"}),(0,l.jsx)("th",{children:"Title"}),(0,l.jsx)("th",{children:"Category"}),(0,l.jsx)("th",{children:"Subcategory"}),(0,l.jsx)("th",{children:"Description"}),(0,l.jsx)("th",{children:"Mode"}),(0,l.jsx)("th",{children:"Easy Apply"}),(0,l.jsx)("th",{children:"Applicants"}),(0,l.jsx)("th",{children:"% Match"}),(0,l.jsx)("th",{children:"LLM Fit"}),(0,l.jsx)("th",{children:"Final Score"}),(0,l.jsx)("th",{children:"Reasons"}),(0,l.jsx)("th",{children:"Apply"})]})}),(0,l.jsx)("tbody",{children:0===es.length?(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:13,className:"small",children:"No results yet."})}):es.map(e=>{var s,a,t,n,r,i,o,d,u,h,m;return(0,l.jsxs)("tr",{className:e.is_new?"new-row":"",children:[(0,l.jsx)("td",{children:(0,l.jsx)("input",{type:"checkbox",checked:e.checked,onChange:s=>{let a,l;return a=e.result_id,l=s.target.checked,eg(async()=>{await c("/searches/results/".concat(a,"/check"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({checked:l})}),await ey(I)})}})}),(0,l.jsxs)("td",{children:[(0,l.jsx)("strong",{children:e.title}),(0,l.jsxs)("div",{className:"small",children:[e.company||"-"," | ",e.location||"-"]}),(0,l.jsxs)("div",{className:"small",children:["posted: ",null==e.posted_age_hours?"-":"".concat(e.posted_age_hours,"h")]}),e.is_new?(0,l.jsx)("span",{className:"badge",children:"NEW"}):null]}),(0,l.jsx)("td",{children:e.job_category||"-"}),(0,l.jsx)("td",{children:e.job_subcategory||"-"}),(0,l.jsx)("td",{className:"small",children:(null==(s=e.description)?void 0:s.slice(0,220))||"-"}),(0,l.jsx)("td",{children:e.modality||"-"}),(0,l.jsx)("td",{children:e.easy_apply?"Yes":"No"}),(0,l.jsx)("td",{children:null!=(d=e.applicant_count)?d:0}),(0,l.jsx)("td",{children:null!=(u=null==(t=e.match_percent)||null==(a=t.toFixed)?void 0:a.call(t,2))?u:e.match_percent}),(0,l.jsx)("td",{children:null!=(h=null==(r=e.llm_fit_score)||null==(n=r.toFixed)?void 0:n.call(r,2))?h:e.llm_fit_score}),(0,l.jsx)("td",{children:(0,l.jsx)("strong",{children:null!=(m=null==(o=e.final_score)||null==(i=o.toFixed)?void 0:i.call(o,2))?m:e.final_score})}),(0,l.jsx)("td",{className:"small",children:(e.fit_reasons||[]).slice(0,2).join(" | ")||"-"}),(0,l.jsx)("td",{children:(0,l.jsx)("a",{className:"job-link",href:e.job_url,target:"_blank",rel:"noreferrer",children:"Open"})})]},e.result_id)})})]})})]})]})}},8820:(e,s,a)=>{Promise.resolve().then(a.bind(a,7402))}},e=>{e.O(0,[441,255,358],()=>e(e.s=8820)),_N_E=e.O()}]);